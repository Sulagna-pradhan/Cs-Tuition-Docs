---
import { SITE_TITLE } from '../consts';
---

<header class="bg-gradient-to-r from-gray-900 to-slate-800 text-white shadow-lg">
  <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
    <div class="flex justify-between h-16">
      <!-- Logo & Site Title -->
      <div class="flex items-center">
        <a href="/" class="flex-shrink-0 flex items-center">
          <!-- You can replace this with your actual logo -->
          <div class="h-8 w-8 rounded-full bg-white text-gray-800 flex items-center justify-center font-bold text-xl">
            A
          </div>
          <span class="ml-2 text-xl font-bold tracking-tight">{SITE_TITLE}</span>
        </a>
      </div>

      <!-- Navigation Links - Desktop -->
      <div class="hidden md:flex md:items-center md:justify-center md:flex-1">
        <nav class="flex space-x-1">
          <a href="/" class="hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">Home</a>
          
          <!-- Tutorial Dropdown -->
          <div class="relative group">
            <button class="hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 inline-flex items-center">
              Tutorial
              <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="absolute left-0 mt-2 w-56 rounded-md shadow-lg bg-gray-800 ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
              <div class="py-1 grid grid-cols-1 gap-1">
                <span class="px-4 py-2 text-xs font-semibold text-gray-400">Programming</span>
                <a href="/tutorial/python" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">Python</a>
                <a href="/tutorial/javascript" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">JavaScript</a>
                <a href="/tutorial/java" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">Java</a>
                <span class="px-4 py-2 text-xs font-semibold text-gray-400">Computer Science</span>
                <a href="/tutorial/numbersystem" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">Number System</a>
                <a href="/tutorial/digitalcircuit" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">Digital Circuit</a>
                <a href="/tutorial/os" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">Operating Systems</a>
                <a href="/tutorial/microprocessor" class="px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">8085 Microprocessor</a>
              </div>
            </div>
          </div>
          
          <!-- Practice Dropdown -->
          <div class="relative group">
            <button class="hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200 inline-flex items-center">
              Practice
              <svg class="ml-1 h-4 w-4" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
              </svg>
            </button>
            <div class="absolute left-0 mt-2 w-56 rounded-md shadow-lg bg-gray-800 ring-1 ring-black ring-opacity-5 opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 z-50">
              <div class="py-1">
                <a href="/practice/exercises" class="block px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">Coding Exercises</a>
                <a href="/practice/quizzes" class="block px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">Quizzes</a>
                <a href="/practice/projects" class="block px-4 py-2 text-sm text-gray-200 hover:bg-gray-700 hover:text-white">Projects</a>
              </div>
            </div>
          </div>
          
          <a href="/about" class="hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">About</a>
          <a href="/blog" class="hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">Blog</a>
          <a href="/contact" class="hover:bg-gray-700 hover:text-white px-3 py-2 rounded-md text-sm font-medium transition-colors duration-200">Contact Us</a>
        </nav>
      </div>

      <!-- Right side controls -->
      <div class="hidden md:flex md:items-center md:space-x-4">
        <!-- Theme Toggle -->
        <button id="theme-toggle" class="p-2 rounded-full hover:bg-gray-700 transition-colors duration-200" aria-label="Toggle dark mode">
          <!-- Sun icon for dark mode -->
          <svg id="sun-icon" class="hidden h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
          <!-- Moon icon for light mode -->
          <svg id="moon-icon" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
          </svg>
        </button>

        <!-- GitHub Link -->
        <a href="https://github.com/withastro/astro" class="text-indigo-100 hover:text-white transition-colors duration-200">
          <span class="sr-only">GitHub</span>
          <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
            <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path>
          </svg>
        </a>
        
        <!-- CTA Button -->
        <a href="/signup" class="bg-white text-indigo-600 px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-50 transition-colors duration-200">
          Sign Up
        </a>
      </div>

      <!-- Mobile menu button -->
      <div class="flex md:hidden items-center space-x-2">
        <!-- Theme Toggle - Mobile -->
        <button id="theme-toggle-mobile" class="p-2 rounded-full hover:bg-gray-700 transition-colors duration-200" aria-label="Toggle dark mode">
          <!-- Sun icon for dark mode -->
          <svg id="sun-icon-mobile" class="hidden h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 3v1m0 16v1m9-9h-1M4 12H3m15.364 6.364l-.707-.707M6.343 6.343l-.707-.707m12.728 0l-.707.707M6.343 17.657l-.707.707M16 12a4 4 0 11-8 0 4 4 0 018 0z" />
          </svg>
          <!-- Moon icon for light mode -->
          <svg id="moon-icon-mobile" class="h-5 w-5" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M20.354 15.354A9 9 0 018.646 3.646 9.003 9.003 0 0012 21a9.003 9.003 0 008.354-5.646z" />
          </svg>
        </button>
        
        <button type="button" id="mobile-menu-button" class="inline-flex items-center justify-center p-2 rounded-md text-gray-200 hover:text-white hover:bg-gray-700 focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white" aria-controls="mobile-menu" aria-expanded="false">
          <span class="sr-only">Open main menu</span>
          <!-- Menu icon -->
          <svg id="menu-icon" class="block h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16" />
          </svg>
          <!-- Close icon -->
          <svg id="close-icon" class="hidden h-6 w-6" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" aria-hidden="true">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M6 18L18 6M6 6l12 12" />
          </svg>
        </button>
      </div>
    </div>
  </div>

  <!-- Mobile menu, show/hide based on menu state -->
  <div id="mobile-menu" class="hidden md:hidden bg-gray-800">
    <div class="px-2 pt-2 pb-3 space-y-1 sm:px-3">
      <a href="/" class="block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700 transition-colors duration-200">Home</a>
      
      <!-- Tutorial Collapsible Menu -->
      <div class="mobile-dropdown">
        <button class="mobile-dropdown-toggle flex justify-between items-center w-full px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700 transition-colors duration-200">
          Tutorial
          <svg class="ml-1 h-5 w-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div class="mobile-dropdown-content hidden pl-4 mt-1 space-y-1">
          <div class="py-1">
            <div class="px-3 text-xs font-semibold text-gray-400">Programming</div>
            <a href="/tutorial/python" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Python</a>
            <a href="/tutorial/javascript" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">JavaScript</a>
            <a href="/tutorial/java" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Java</a>
            <div class="px-3 text-xs font-semibold text-gray-400 mt-2">Computer Science</div>
            <a href="/tutorial/numbersystem" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Number System</a>
            <a href="/tutorial/digitalcircuit" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Digital Circuit</a>
            <a href="/tutorial/os" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Operating Systems</a>
            <a href="/tutorial/microprocessor" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">8085 Microprocessor</a>
          </div>
        </div>
      </div>
      
      <!-- Practice Collapsible Menu -->
      <div class="mobile-dropdown">
        <button class="mobile-dropdown-toggle flex justify-between items-center w-full px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700 transition-colors duration-200">
          Practice
          <svg class="ml-1 h-5 w-5 transform transition-transform duration-200" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7" />
          </svg>
        </button>
        <div class="mobile-dropdown-content hidden pl-4 mt-1 space-y-1">
          <a href="/practice/exercises" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Coding Exercises</a>
          <a href="/practice/quizzes" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Quizzes</a>
          <a href="/practice/projects" class="block px-3 py-2 rounded-md text-base font-medium text-gray-300 hover:bg-gray-700 hover:text-white">Projects</a>
        </div>
      </div>
      
      <a href="/about" class="block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700 transition-colors duration-200">About</a>
      <a href="/blog" class="block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700 transition-colors duration-200">Blog</a>
      <a href="/contact" class="block px-3 py-2 rounded-md text-base font-medium text-white hover:bg-gray-700 transition-colors duration-200">Contact Us</a>
      
      <div class="pt-4 pb-3 border-t border-gray-700">
        <div class="flex items-center px-3">
          <!-- GitHub Link - Mobile -->
          <a href="https://github.com/withastro/astro" class="text-indigo-100 hover:text-white mr-4 transition-colors duration-200">
            <span class="sr-only">GitHub</span>
            <svg class="h-6 w-6" fill="currentColor" viewBox="0 0 24 24">
              <path fill-rule="evenodd" d="M12 2C6.477 2 2 6.484 2 12.017c0 4.425 2.865 8.18 6.839 9.504.5.092.682-.217.682-.483 0-.237-.008-.868-.013-1.703-2.782.605-3.369-1.343-3.369-1.343-.454-1.158-1.11-1.466-1.11-1.466-.908-.62.069-.608.069-.608 1.003.07 1.531 1.032 1.531 1.032.892 1.53 2.341 1.088 2.91.832.092-.647.35-1.088.636-1.338-2.22-.253-4.555-1.113-4.555-4.951 0-1.093.39-1.988 1.029-2.688-.103-.253-.446-1.272.098-2.65 0 0 .84-.27 2.75 1.026A9.564 9.564 0 0112 6.844c.85.004 1.705.115 2.504.337 1.909-1.296 2.747-1.027 2.747-1.027.546 1.379.202 2.398.1 2.651.64.7 1.028 1.595 1.028 2.688 0 3.848-2.339 4.695-4.566 4.943.359.309.678.92.678 1.855 0 1.338-.012 2.419-.012 2.747 0 .268.18.58.688.482A10.019 10.019 0 0022 12.017C22 6.484 17.522 2 12 2z" clip-rule="evenodd"></path>
            </svg>
          </a>
          <!-- CTA Button - Mobile -->
          <a href="/signup" class="bg-white text-indigo-600 px-4 py-2 rounded-md text-sm font-medium hover:bg-indigo-50 transition-colors duration-200">
            Sign Up
          </a>
        </div>
      </div>
    </div>
  </div>
</header>

<script>
  // Theme toggling functionality
  document.addEventListener('DOMContentLoaded', () => {
    const themeToggle = document.getElementById('theme-toggle');
    const themeToggleMobile = document.getElementById('theme-toggle-mobile');
    const sunIcon = document.getElementById('sun-icon');
    const moonIcon = document.getElementById('moon-icon');
    const sunIconMobile = document.getElementById('sun-icon-mobile');
    const moonIconMobile = document.getElementById('moon-icon-mobile');
    
    // Check for saved theme preference or use system preference
    const savedTheme = localStorage.getItem('theme');
    const systemPrefersDark = window.matchMedia('(prefers-color-scheme: dark)').matches;
    
    if (savedTheme === 'dark' || (!savedTheme && systemPrefersDark)) {
      document.documentElement.classList.add('dark');
      showDarkModeIcon();
    } else {
      document.documentElement.classList.remove('dark');
      showLightModeIcon();
    }
    
    // Toggle theme function
    function toggleTheme() {
      if (document.documentElement.classList.contains('dark')) {
        document.documentElement.classList.remove('dark');
        localStorage.setItem('theme', 'light');
        showLightModeIcon();
      } else {
        document.documentElement.classList.add('dark');
        localStorage.setItem('theme', 'dark');
        showDarkModeIcon();
      }
    }
    
    // Update icons based on theme
    function showDarkModeIcon() {
      sunIcon.classList.remove('hidden');
      moonIcon.classList.add('hidden');
      sunIconMobile.classList.remove('hidden');
      moonIconMobile.classList.add('hidden');
    }
    
    function showLightModeIcon() {
      sunIcon.classList.add('hidden');
      moonIcon.classList.remove('hidden');
      sunIconMobile.classList.add('hidden');
      moonIconMobile.classList.remove('hidden');
    }
    
    // Add event listeners to theme toggles
    themeToggle.addEventListener('click', toggleTheme);
    themeToggleMobile.addEventListener('click', toggleTheme);
    
    // Mobile menu functionality
    const mobileMenuButton = document.getElementById('mobile-menu-button');
    const mobileMenu = document.getElementById('mobile-menu');
    const menuIcon = document.getElementById('menu-icon');
    const closeIcon = document.getElementById('close-icon');
    
    mobileMenuButton.addEventListener('click', () => {
      const isExpanded = mobileMenuButton.getAttribute('aria-expanded') === 'true';
      
      mobileMenuButton.setAttribute('aria-expanded', !isExpanded);
      mobileMenu.classList.toggle('hidden');
      
      // Toggle menu/close icons
      menuIcon.classList.toggle('hidden');
      closeIcon.classList.toggle('hidden');
    });
    
    // Mobile dropdown functionality
    const mobileDropdownToggles = document.querySelectorAll('.mobile-dropdown-toggle');
    
    mobileDropdownToggles.forEach(toggle => {
      toggle.addEventListener('click', () => {
        const content = toggle.nextElementSibling;
        content.classList.toggle('hidden');
        
        // Toggle arrow direction
        const arrow = toggle.querySelector('svg');
        arrow.classList.toggle('rotate-180');
      });
    });
  });
</script>